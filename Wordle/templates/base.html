<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordle</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    
    <div class="wordle">
        <div class="game">
            {% for color_row in colors %}
                {% set rowloop = loop.index0 %}
                {% for color in color_row %}
                    <square correct='{{color}}'>{{words[rowloop][loop.index0]}}</square>
                {% endfor %}
            {% endfor %}
            
        </div>
        <div class="letters">
            {% for letter in letter_list %}
                {% if letter in " "%}
                    <br>
                
                {% else %}
                    {% if letter in green_list %}
                        <div guessed="green">
                    {% elif letter in yellow_list %}
                        <div guessed="yellow">
                    {% elif letter in gray_list %}
                        <div guessed="gray">
                    {% else %}
                        <div>
                    {% endif %}
                    {{letter}}</div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
    <form name="split_input" action="" method="get">
        <input type="text" name="guess_comb" id="combo" hidden="on" autocapitalize="on" maxlength="5">
        {% for i in range(5) %}
            <input type="text" name="guess_letter" id="{{i}}" autocomplete="off" autocapitalize="on" maxlength="1" onkeyup="next_box()">
        {% endfor %}
        
        
    </form>
    <button name="btn_submit" onclick="combined_submit()">Submit </button>
    
    <form name="simple_input" action="" method="get">
        <input type="textarea" name="guess" autocomplete="off" autocapitalize="on" maxlength="5" onkeyup="if(this.value.length == 5) this.blur()">
        <input type="submit" value="Submit" name="old_submit">
        <br> {{ output }}

    </form>

    <form action = "reset" method="get">
        <input type="submit" value="Reset" name="reset">
    </form>

<script type="text/javascript">
    function combined_submit()
    {
        console.log("Combo Submit");
        //let temp = document.getElementById("combo");
        let temp = document.getElementsByName("split_input");
        temp.submit();
    }
    function next_box(event)
    {
        console.log("Checking boxes");
        //let currentBox = event.target.id;
        //console.log("Current Box" + currentBox);
        for (let index = 0; index < 5; index++) {
            let temp = document.getElementById(index);
            console.log(temp.value);
            
        }
    }

</script>

</body>


</html>